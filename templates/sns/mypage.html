{% extends 'sns/base.html' %}

{% block content %}

    <h2>{{ account.user.first_name }}</h2>
    <p>@{{ account.user.username }}</p>

        {% if request.user == account.user %}
            <a href="" class="btn btn-primary">プロフィール編集</a>
            <a href=""><i class="fas fa-cog fa-lg" style="color: rgb(125, 125, 126);"></i></a>
        {% else %}
            {% if account in connection.0.following.all %}<!-- contextから情報が渡ってきている -->
                <a href="{% url 'follow_mypage' account.pk %}" class="btn btn-danger ms-3" tabindex="-1" role="button" aria-disabled="true">フォロー解除</a>
            {% else %}
                <a href="{% url 'follow_mypage' account.pk %}" class="btn btn-primary ms-3" tabindex="-1" role="button" aria-disabled="true">フォロー</a>
            {% endif %}
        {% endif %}


        {% for post in object.post_set.all reversed %}
            <div>
                <p>{{ post.caption|linebreaksbr }}</p>
                <p>{{ post.post_date }}</p>
                <a href="{% url 'detail' post.pk %}">詳細</a>
                <p>-------------------------</p>
            </div>
        {% endfor %}


{% endblock %}